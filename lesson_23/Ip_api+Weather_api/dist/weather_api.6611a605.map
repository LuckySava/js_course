{"version":3,"sources":["dom.js","location_ip.js","weather.js","index.js"],"names":["Dom","load","document","querySelector","city","country","lat","long","city2","temp","icon","btn2","style","opacity","key","value","country_name","latitude","longitude","data","name","innerHTML","Math","round","main","src","weather","LocationApi","fetch","then","res","status","json","Error","ip","Weather","location","dom","btn","getElementById","addEventListener","showPreloader","getMyIp","getMyLocation","setCoordinates","console","log","getWeather","hidePreloader","setWeather","catch","rej"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAqBA;AACjB,mBAAc;AAAA;;AACN,aAAKC,IAAL,GAAYC,SAASC,aAAT,CAAuB,YAAvB,CAAZ;AACA,aAAKC,IAAL,GAAYF,SAASC,aAAT,CAAuB,SAAvB,CAAZ;AACA,aAAKE,OAAL,GAAeH,SAASC,aAAT,CAAuB,SAAvB,CAAf;AACA,aAAKG,GAAL,GAAWJ,SAASC,aAAT,CAAuB,SAAvB,CAAX;AACA,aAAKI,IAAL,GAAYL,SAASC,aAAT,CAAuB,SAAvB,CAAZ;AACA,aAAKK,KAAL,GAAaN,SAASC,aAAT,CAAuB,OAAvB,CAAb;AACA,aAAKM,IAAL,GAAYP,SAASC,aAAT,CAAuB,SAAvB,CAAZ;AACA,aAAKO,IAAL,GAAYR,SAASC,aAAT,CAAuB,WAAvB,CAAZ;AACA,aAAKQ,IAAL,GAAYT,SAASC,aAAT,CAAuB,OAAvB,CAAZ;AAEP;;;;wCACe;AACZ,iBAAKF,IAAL,CAAUW,KAAV,CAAgBC,OAAhB,GAA0B,GAA1B;AACH;;;wCACe;AACZ,iBAAKZ,IAAL,CAAUW,KAAV,CAAgBC,OAAhB,GAA0B,GAA1B;AACH;;;uCACcC,KAAK;AAChB,iBAAKV,IAAL,CAAUW,KAAV,GAAkBD,IAAIV,IAAtB;AACA,iBAAKC,OAAL,CAAaU,KAAb,GAAqBD,IAAIE,YAAzB;AACA,iBAAKV,GAAL,CAASS,KAAT,GAAiBD,IAAIG,QAArB;AACA,iBAAKV,IAAL,CAAUQ,KAAV,GAAkBD,IAAII,SAAtB;AACH;;;mCACUC,MAAM;AACb,iBAAKX,KAAL,CAAWO,KAAX,GAAmBI,KAAKC,IAAxB;AACA,iBAAKX,IAAL,CAAUY,SAAV,GAAsBC,KAAKC,KAAL,CAAWJ,KAAKK,IAAL,CAAUf,IAAV,GAAiB,MAA5B,IAAsC,SAA5D;AACA,iBAAKC,IAAL,CAAUe,GAAV,wCAAmDN,KAAKO,OAAL,CAAa,CAAb,EAAgBhB,IAAnE;AACH;;;;;;kBA7BgBV;;;;;;;;;;;;ICAA2B;;;;;;;kCACP;AACN,mBAAOC,MAAM,mCAAN,EACNC,IADM,CACD,eAAO;AACT,oBAAIC,IAAIC,MAAJ,KAAe,GAAnB,EAAwB;AACpB,2BAAOD,IAAIE,IAAJ,EAAP;AACH,iBAFD,MAEO;AACH,0BAAM,IAAIC,KAAJ,CAAUH,IAAIC,MAAd,CAAN;AACH;AACJ,aAPM,CAAP;AASH;;;sCACaG,IAAI;AACd,mBAAON,sCAAoCM,EAApC,EACNL,IADM,CACD,eAAO;AACT,oBAAIC,IAAIC,MAAJ,KAAe,GAAnB,EAAwB;AACpB,2BAAOD,IAAIE,IAAJ,EAAP;AACH,iBAFD,MAEO;AACH,0BAAM,IAAIC,KAAJ,CAAUH,IAAIC,MAAd,CAAN;AACH;AACJ,aAPM,CAAP;AAQH;;;;;;kBArBgBJ;;;;;;;;;;;;ICAAQ;AACjB,uBAAc;AAAA;;AACV,aAAKrB,GAAL,GAAW,kCAAX;AACH;;;;mCACUV,MAAM;AACb,mBAAOwB,6DAA2DxB,IAA3D,eAAyE,KAAKU,GAA9E,EACNe,IADM,CACD,eAAO;AACT,oBAAIC,IAAIC,MAAJ,KAAe,GAAnB,EAAwB;AACpB,2BAAOD,IAAIE,IAAJ,EAAP;AACH,iBAFD,MAEO;AACH,0BAAM,IAAIC,KAAJ,CAAUH,IAAIC,MAAd,CAAN;AACH;AACJ,aAPM,CAAP;AAQH;;;;;;kBAbgBI;;;;ACApB;;;;AACA;;;;AACA;;;;;;AAEA,IAAIC,WAAW,IAAIT,qBAAJ,EAAf;AACA,IAAIU,MAAM,IAAIrC,aAAJ,EAAV;AACA,IAAI0B,UAAU,IAAIS,iBAAJ,EAAd;;AAEA,IAAIG,MAAMpC,SAASqC,cAAT,CAAwB,KAAxB,CAAV;;AAEAD,IAAIE,gBAAJ,CAAqB,OAArB,EAA8B,YAAW;AACtCH,MAAII,aAAJ;AACAL,WAASM,OAAT,GACCb,IADD,CACM;AAAA,WAAOO,SAASO,aAAT,CAAuBb,IAAII,EAA3B,CAAP;AAAA,GADN,EAECL,IAFD,CAEM,eAAO;AACTQ,QAAIO,cAAJ,CAAmBd,GAAnB;AACAe,YAAQC,GAAR,CAAYhB,IAAI1B,IAAhB;AACA,WAAOsB,QAAQqB,UAAR,CAAmBjB,IAAI1B,IAAvB,CAAP;AACH,GAND,EAOCyB,IAPD,CAOM,eAAO;AACTQ,QAAIW,aAAJ;AACAX,QAAIY,UAAJ,CAAenB,GAAf;AACH,GAVD,EAWCoB,KAXD,CAWO,eAAO;AACVb,QAAIW,aAAJ;AACAH,YAAQC,GAAR,CAAY,SAAZ,EAAuBK,GAAvB;AACH,GAdD;AAeF,CAjBD;;AAmBD","file":"weather_api.6611a605.map","sourceRoot":"..","sourcesContent":["export default class Dom {\r\n    constructor() {\r\n            this.load = document.querySelector(\"#preloader\");\r\n            this.city = document.querySelector(\"#field1\");\r\n            this.country = document.querySelector(\"#field2\");\r\n            this.lat = document.querySelector(\"#field3\");\r\n            this.long = document.querySelector(\"#field4\");\r\n            this.city2 = document.querySelector(\".city\");\r\n            this.temp = document.querySelector(\".temper\");\r\n            this.icon = document.querySelector(\"#img_icon\");\r\n            this.btn2 = document.querySelector(\"#btn2\");\r\n\r\n    }\r\n    showPreloader() {\r\n        this.load.style.opacity = \"1\";\r\n    }\r\n    hidePreloader() {\r\n        this.load.style.opacity = \"0\";\r\n    }\r\n    setCoordinates(key) {\r\n        this.city.value = key.city;\r\n        this.country.value = key.country_name;\r\n        this.lat.value = key.latitude;\r\n        this.long.value = key.longitude;\r\n    }\r\n    setWeather(data) {\r\n        this.city2.value = data.name;\r\n        this.temp.innerHTML = Math.round(data.main.temp - 273.15) + \"&#8451;\"\r\n        this.icon.src = `http://openweathermap.org/img/w/${data.weather[0].icon}.png`\r\n    }\r\n}","export default class LocationApi {\r\n    getMyIp() {\r\n        return fetch(\"https://api.ipify.org?format=json\")\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                return res.json();\r\n            } else {\r\n                throw new Error(res.status)\r\n            }\r\n        })\r\n\r\n    }\r\n    getMyLocation(ip) {\r\n        return fetch(`https://freegeoip.net/json/${ip}`)\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                return res.json();\r\n            } else {\r\n                throw new Error(res.status)\r\n            }\r\n        })\r\n    }\r\n\r\n}","export default class Weather {\r\n    constructor() {\r\n        this.key = \"c25457835732d3353ae482e90075b994\"\r\n    }\r\n    getWeather(city) {\r\n        return fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${this.key}`)\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                return res.json()\r\n            } else {\r\n                throw new Error(res.status);\r\n            }\r\n        })\r\n    }\r\n}"," import Dom from \"./dom.js\";\r\n import LocationApi from \"./location_ip.js\";\r\n import Weather from \"./weather.js\";\r\n\r\n let location = new LocationApi();\r\n let dom = new Dom();\r\n let weather = new Weather();\r\n\r\n let btn = document.getElementById(\"btn\")\r\n\r\n btn.addEventListener(\"click\", function() {\r\n    dom.showPreloader();\r\n    location.getMyIp()\r\n    .then(res => location.getMyLocation(res.ip))\r\n    .then(res => {\r\n        dom.setCoordinates(res)\r\n        console.log(res.city)\r\n        return weather.getWeather(res.city)\r\n    })\r\n    .then(res => {\r\n        dom.hidePreloader();\r\n        dom.setWeather(res);\r\n    })\r\n    .catch(rej => {\r\n        dom.hidePreloader();\r\n        console.log('Error: ', rej);\r\n    })\r\n })\r\n\r\n//  weather.getWeather()\r\n\r\n\r\n"]}