{"version":3,"sources":["location_api.js","dom.js","index.js"],"names":["LocationApi","fetch","then","res","status","json","Error","catch","console","log","ip","Promise","reject","Dom","firstField","document","getElementById","secondField","thirdField","forthField","preload","classList","add","setTimeout","remove","coordinate","value","country_name","city","longitude","latitude","myLocation","myResult","btn","addEventListener","showPreloader","getMyIp","getMyLocation","setCoordinates","hidePreloader"],"mappings":"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","file":"lesson_21.9be272ab.map","sourceRoot":"..","sourcesContent":["export default class LocationApi {\r\n    // constructor() {\r\n    // }\r\n    getMyIp() {\r\n        fetch(\"https://api.ipify.org?format=json\")\r\n        .then(res => {\r\n            // if(res.status >= 200 && res.status <= 300) {\r\n            //     return res.json();\r\n            // }\r\n            if(res.status === 200) {\r\n                return res.json();\r\n            } else {\r\n                throw new Error('error ip')\r\n            }\r\n            \r\n        })\r\n        .catch(error => console.log(\"We have some problem with it\"));\r\n    }\r\n    getMyLocation(ip) {\r\n        fetch(\"https://freegeoip.net/json/{ip}\")\r\n            .then(res => {\r\n                // if(res.status >= 200 && res.status <= 300) {\r\n                //     return res.json();\r\n                // }\r\n                if(res.status === 200) {\r\n                    return res.json();\r\n                } else {\r\n                    Promise.reject(res.status)\r\n                }\r\n\r\n            })\r\n            .catch(error => console.log(\"We have some problem with it\"));\r\n    }\r\n\r\n}\r\n","export default class Dom {\r\n    constructor() {\r\n        this.firstField = document.getElementById(\"field1\"),\r\n            this.secondField = document.getElementById(\"field2\"),\r\n            this.thirdField = document.getElementById(\"field3\"),\r\n            this.forthField = document.getElementById(\"field4\"),\r\n            this.preload = document.getElementById(\"preload\");\r\n    }\r\n    showPreloader() {\r\n\r\n        this.preload.classList.add(\"preloading\");\r\n    }\r\n    hidePreloader() {\r\n\r\n        setTimeout(() => {\r\n            this.preload.classList.remove(\"preloading\");\r\n        }, 1000)\r\n\r\n    }\r\n    setCoordinates(coordinate) {\r\n            this.firstField.value = coordinate.country_name;\r\n            this.secondField.value = coordinate.city;\r\n            this.thirdField.value = coordinate.longitude;\r\n            this.forthField.value = coordinate.latitude;\r\n    }\r\n}","import LocationApi from \"./location_api.js\";\r\nimport Dom from \"./dom.js\"\r\n\r\nconsole.log(\"Проверка связи\");\r\n\r\n\r\n\r\n// >>>>>>>>>>>>>>>>>>><<<<<<<<<<<<<<<<<<<<<<<\r\n\r\n// ПРОВЕРИЛ уже десяток раз, не могу найти где именно ошибка, исходя из подсказки консоли.\r\n\r\nlet myLocation = new LocationApi(),\r\n    myResult = new Dom(),\r\n    btn = document.getElementById(\"btn\");\r\n\r\n\r\nbtn.addEventListener(\"click\", () => {\r\n    myResult.showPreloader();\r\n    myLocation.getMyIp()\r\n        .then(res => myLocation.getMyLocation(res.ip))\r\n        .then(res => myResult.setCoordinates(res))\r\n        .then(res => myResult.hidePreloader())\r\n});"]}