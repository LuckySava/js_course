{"version":3,"sources":["location_api.js","dom.js","index.js"],"names":["LocationApi","fetch","then","res","status","json","Promise","reject","catch","console","log","ip","Dom","firstField","document","querySelector","secondField","thirdField","forthField","preload","classList","add","remove","coordinate","value","country_name","city","longitude","latitude","myLocation","myResult","btn","getElementById","addEventListener","showPreloader","getMyIp","getmyLocation","thin","setCoordinates","hidePreloader"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAaA,sBAAAA;;;;;;;;AACT;AACA;kCACU;AACNC,kBAAM,mCAAN,EACCC,IADD,CACM,eAAO;AACT,oBAAGC,IAAIC,MAAJ,IAAc,GAAd,IAAqBD,IAAIC,MAAJ,IAAc,GAAtC,EAA2C;AACvC,2BAAOD,IAAIE,IAAJ,EAAP;AACH;AACD,uBAAOC,QAAQC,MAAR,CAAeJ,IAAIC,MAAnB,CAAP;AACH,aAND,EAOCI,KAPD,CAOO;AAAA,uBAASC,QAAQC,GAAR,CAAY,8BAAZ,CAAT;AAAA,aAPP;AAQH;;;sCACaC,IAAI;AACdV,kBAAM,iCAAN,EACKC,IADL,CACU,eAAO;AACT,oBAAGC,IAAIC,MAAJ,IAAc,GAAd,IAAqBD,IAAIC,MAAJ,IAAc,GAAtC,EAA2C;AACvC,2BAAOD,IAAIE,IAAJ,EAAP;AACH;AACD,uBAAOC,QAAQC,MAAR,CAAeJ,IAAIC,MAAnB,CAAP;AACH,aANL,EAOKI,KAPL,CAOW;AAAA,uBAASC,QAAQC,GAAR,CAAY,8BAAZ,CAAT;AAAA,aAPX;AAQH;;;;;;AAEJ;;;;;;;;;;;;ICxBYE,cAAAA;AACT,mBAAc;AAAA;;AACV,YAAIC,aAAaC,SAASC,aAAT,CAAuB,SAAvB,CAAjB;AAAA,YACIC,cAAcF,SAASC,aAAT,CAAuB,SAAvB,CADlB;AAAA,YAEIE,aAAaH,SAASC,aAAT,CAAuB,SAAvB,CAFjB;AAAA,YAGIG,aAAaJ,SAASC,aAAT,CAAuB,SAAvB,CAHjB;AAAA,YAIII,UAAUL,SAASC,aAAT,CAAuB,UAAvB,CAJd;AAKH;;;;wCACe;AACZI,sBAAUL,SAASC,aAAT,CAAuB,SAAvB,EAAkCK,SAAlC,CAA4CC,GAA5C,CAAgD,YAAhD,CAAV;AACH;;;wCACe;AACZF,sBAAUL,SAASC,aAAT,CAAuB,SAAvB,EAAkCK,SAAlC,CAA4CE,MAA5C,CAAmD,YAAnD,CAAV;AACH;;;uCACcC,YAAY;AACnBV,uBAAWW,KAAX,GAAmBD,WAAWE,YAA9B;AACAT,wBAAYQ,KAAZ,GAAoBD,WAAWG,IAA/B;AACAT,uBAAWO,KAAX,GAAmBD,WAAWI,SAA9B;AACAT,uBAAWM,KAAX,GAAmBD,WAAWK,QAA9B;AACP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBL;;;;AACA;;;;;;AAEAnB,QAAQC,GAAR,CAAY,gBAAZ;;AAIA;;AAEA,IAAImB,aAAa,IAAI7B,sBAAJ,EAAjB;AAAA,IACI8B,WAAW,IAAIlB,aAAJ,EADf;AAAA,IAEImB,MAAMjB,SAASkB,cAAT,CAAwB,KAAxB,CAFV;;AAKAD,IAAIE,gBAAJ,CAAqB,OAArB,EAA8B,YAAM;AAChCH,aAASI,aAAT;AACAL,eAAWM,OAAX,GACKjC,IADL,CACU;AAAA,eAAO2B,WAAWO,aAAX,CAAyBjC,IAAIQ,EAA7B,CAAP;AAAA,KADV,EAEK0B,IAFL,CAEU;AAAA,eAAOP,SAASQ,cAAT,CAAwBnC,GAAxB,CAAP;AAAA,KAFV,EAGKD,IAHL,CAGU;AAAA,eAAO4B,SAASS,aAAT,EAAP;AAAA,KAHV;AAIH,CAND","file":"lesson_21.9be272ab.map","sourceRoot":"..","sourcesContent":["export class LocationApi {\r\n    // constructor() {\r\n    // }\r\n    getMyIp() {\r\n        fetch(\"https://api.ipify.org?format=json\")\r\n        .then(res => {\r\n            if(res.status >= 200 && res.status <= 300) {\r\n                return res.json();\r\n            }\r\n            return Promise.reject(res.status)\r\n        })\r\n        .catch(error => console.log(\"We have some problem with it\"));\r\n    }\r\n    getMyLocation(ip) {\r\n        fetch(\"https://freegeoip.net/json/{ip}\")\r\n            .then(res => {\r\n                if(res.status >= 200 && res.status <= 300) {\r\n                    return res.json();\r\n                }\r\n                return Promise.reject(res.status)\r\n            })\r\n            .catch(error => console.log(\"We have some problem with it\"));\r\n    }\r\n\r\n};\r\n","export class Dom {\r\n    constructor() {\r\n        let firstField = document.querySelector(\"#field1\"),\r\n            secondField = document.querySelector(\"#field2\"),\r\n            thirdField = document.querySelector(\"#field3\"),\r\n            forthField = document.querySelector(\"#field4\"),\r\n            preload = document.querySelector(\"#preload\");\r\n    }\r\n    showPreloader() {\r\n        preload = document.querySelector(\"preload\").classList.add(\"preloading\");\r\n    }\r\n    hidePreloader() {\r\n        preload = document.querySelector(\"preload\").classList.remove(\"preloading\");\r\n    }\r\n    setCoordinates(coordinate) {\r\n            firstField.value = coordinate.country_name;\r\n            secondField.value = coordinate.city;\r\n            thirdField.value = coordinate.longitude;\r\n            forthField.value = coordinate.latitude;\r\n    }\r\n}","import LocationApi from \"./location_api.js\";\r\nimport Dom from \"./dom.js\"\r\n\r\nconsole.log(\"Проверка связи\");\r\n\r\n\r\n\r\n// >>>>>>>>>>>>>>>>>>><<<<<<<<<<<<<<<<<<<<<<<\r\n\r\nlet myLocation = new LocationApi,\r\n    myResult = new Dom,\r\n    btn = document.getElementById(\"btn\");\r\n\r\n\r\nbtn.addEventListener(\"click\", () => {\r\n    myResult.showPreloader();\r\n    myLocation.getMyIp()\r\n        .then(res => myLocation.getmyLocation(res.ip))\r\n        .thin(res => myResult.setCoordinates(res))\r\n        .then(res => myResult.hidePreloader())\r\n});"]}